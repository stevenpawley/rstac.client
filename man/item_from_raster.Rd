% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/integrations.R
\name{item_from_raster}
\alias{item_from_raster}
\title{Create a STAC Item from a Raster File}
\usage{
item_from_raster(
  file,
  id = NULL,
  datetime = NULL,
  properties = list(),
  assets = list(),
  asset_key = "data",
  asset_roles = c("data"),
  add_raster_bands = TRUE,
  add_eo_bands = FALSE,
  calculate_statistics = FALSE,
  reproject_to_wgs84 = TRUE,
  ...
)
}
\arguments{
\item{file}{(character, required) Path to the raster file (GeoTIFF, NetCDF, etc.).}

\item{id}{(character, optional) Item ID. If NULL, uses the filename without extension.}

\item{datetime}{(character, optional) ISO 8601 datetime string. If NULL, uses
current time.}

\item{properties}{(list, optional) Additional properties for the item.}

\item{assets}{(list, optional) Additional assets beyond the main raster. The
main raster is automatically added as an asset.}

\item{asset_key}{(character, optional) Key name for the main raster asset.
Default is "data".}

\item{asset_roles}{(character vector, optional) Roles for the main raster asset.
Default is c("data").}

\item{add_raster_bands}{(logical, optional) If TRUE, adds raster extension with
band metadata. Default is TRUE.}

\item{add_eo_bands}{(logical, optional) If TRUE and band information is available,
adds EO extension. Requires band metadata. Default is FALSE.}

\item{calculate_statistics}{(logical, optional) If TRUE, calculates band
statistics (min, max, mean, stddev). Can be slow for large rasters. Default
is FALSE.}

\item{reproject_to_wgs84}{(logical, optional) If TRUE and raster is not in
WGS84, reprojects the bbox geometry to WGS84 (EPSG:4326). STAC requires
WGS84. Default is TRUE.}

\item{...}{Additional arguments passed to \code{stac_item()}.}
}
\value{
A STAC Item object with the raster metadata.
}
\description{
Creates a STAC Item from a raster file using the terra package. Automatically
extracts spatial metadata including geometry, bbox, CRS, and optionally band
information and statistics.
}
\details{
This function automates the creation of STAC Items from raster files by:
\enumerate{
\item Reading the raster metadata using terra
\item Extracting the spatial extent and converting to bbox
\item Creating a geometry polygon from the extent
\item Reprojecting to WGS84 if necessary (STAC standard)
\item Optionally extracting band metadata and statistics
\item Creating the STAC Item with appropriate extensions
}

\strong{STAC CRS Requirement:}
STAC Items must use WGS84 (EPSG:4326) for geometry and bbox. If your raster
uses a different CRS, the geometry will be reprojected automatically when
\code{reproject_to_wgs84 = TRUE}.
}
\examples{
\dontrun{
# Basic item creation
item <- item_from_raster(
  file = "path/to/image.tif",
  datetime = "2023-06-15T10:30:00Z"
)

# With statistics
item <- item_from_raster(
  file = "landsat8.tif",
  id = "LC08_001",
  datetime = "2023-06-15T10:30:00Z",
  properties = list(platform = "landsat-8"),
  calculate_statistics = TRUE
)

# With custom asset configuration
item <- item_from_raster(
  file = "sentinel2.tif",
  asset_key = "visual",
  asset_roles = c("data", "visual"),
  add_eo_bands = TRUE
)
}

}
