% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/collection.R
\name{stac_collection}
\alias{stac_collection}
\title{Create a STAC Collection}
\usage{
stac_collection(
  id,
  description,
  license,
  extent,
  title = NULL,
  stac_version = "1.1.0",
  type = "Collection",
  stac_extensions = NULL,
  keywords = NULL,
  providers = NULL,
  links = list(),
  summaries = NULL,
  assets = NULL,
  conformsTo = NULL,
  ...
)
}
\arguments{
\item{id}{(character, required) Identifier for the Collection. Must be unique
across all collections in the root catalog. Should contain only alphanumeric
characters, hyphens, and underscores.}

\item{description}{(character, required) Detailed multi-line description to
fully explain the Collection. CommonMark 0.29 syntax may be used for rich
text representation. This should provide comprehensive information about the
collection's contents, purpose, and scope.}

\item{license}{(character, required) Collection's license(s) as a
\href{https://spdx.org/licenses/}{SPDX License identifier}, \code{"various"}, or
\code{"other"}. If the collection includes data with multiple different licenses,
use \code{"various"} and add a link for each license. In STAC 1.1.0, \code{"proprietary"}
is deprecated in favor of \code{"other"}. Examples: \code{"CC-BY-4.0"}, \code{"MIT"},
\code{"other"}.}

\item{extent}{(list, required) Spatial and temporal extents that describe the
bounds of all Items contained within this Collection. Must be a named list
with two elements:
\itemize{
\item \code{spatial}: A list with element \code{bbox} - a list of one or more bounding boxes.
Each bbox is a numeric vector of 4 or 6 numbers: \code{c(west, south, east, north)}
for 2D or \code{c(west, south, min_elev, east, north, max_elev)} for 3D. The
first bbox describes the overall spatial extent.
\item \code{temporal}: A list with element \code{interval} - a list of one or more time
intervals. Each interval is a character vector of length 2 with ISO 8601
datetime strings: \code{c("start", "end")}. Use \code{NULL} for open-ended intervals
(e.g., \code{c("2020-01-01T00:00:00Z", NULL)} for ongoing data).
}

Use the helper function \code{stac_extent()} to create this structure easily.}

\item{title}{(character, optional) A short descriptive one-line title for the
Collection. Recommended for human-readable identification.}

\item{stac_version}{(character, optional) The STAC version the Collection
implements. Defaults to \code{"1.1.0"}.}

\item{type}{(character, optional) Must be set to \code{"Collection"}. Defaults to
\code{"Collection"}.}

\item{stac_extensions}{(character vector, optional) A list of extension
identifiers (URIs) that the Collection implements. Common extensions include
Item Assets, Version, Scientific Citation, and more. Each should be a full
URI to the extension's JSON schema. Default is \code{NULL}.}

\item{keywords}{(character vector, optional) List of keywords describing the
Collection. Helps with discovery and categorization.}

\item{providers}{(list, optional) A list of Provider objects. Each provider
should be a list with fields: \code{name} (required), \code{description}, \code{roles}
(e.g., "producer", "licensor", "processor", "host"), and \code{url}. Use the
helper function \code{stac_provider()} to create providers.}

\item{links}{(list, optional) An array of Link objects. Common link relations
for Collections include \code{"self"}, \code{"root"}, \code{"parent"}, \code{"item"}, \code{"child"},
and \code{"license"}. Note that while Catalogs require at least one item or child
link, this is not required for Collections (but recommended). Defaults to an
empty list.}

\item{summaries}{(list, optional) A map of property summaries that describe the
range of values for properties found in the Items of this Collection. Strongly
recommended. Each property can be summarized as an array of unique values, a
range (with \code{minimum} and \code{maximum}), or a JSON Schema. Common properties to
summarize include \code{"datetime"}, \code{"platform"}, \code{"instruments"}, \code{"gsd"},
\code{"eo:bands"}, etc. Use \code{stac_summaries()} helper to create this.}

\item{assets}{(list, optional) Dictionary of asset objects that can be downloaded
at the Collection level (not Item-specific assets). This is for assets that
apply to the entire collection, such as preview images or documentation.
For describing what assets are available in Items, use the Item Assets extension.}

\item{conformsTo}{(character vector, optional) A list of URIs declaring conformance
to STAC API specifications or other standards. Introduced in STAC 1.1.0.}

\item{...}{Additional fields to include in the collection. This allows for custom
extensions or additional metadata beyond the core specification.}
}
\value{
An object of class \code{c("stac_collection", "stac_catalog", "list")}
containing the collection metadata. The object can be converted to JSON using
\code{jsonlite::toJSON()} or written to disk using \code{write_stac()}.
}
\description{
Creates a STAC (SpatioTemporal Asset Catalog) Collection object following the
STAC specification version 1.1.0. A Collection extends the Catalog specification
with additional metadata that helps enable discovery, including spatial and
temporal extents, license information, and summaries of the data.
}
\details{
\subsection{Required Fields}{

The STAC Collection specification requires these fields:
\itemize{
\item \code{type}: Must be "Collection"
\item \code{stac_version}: STAC specification version (currently "1.1.0")
\item \code{id}: Unique identifier for the collection
\item \code{description}: Detailed description of the collection
\item \code{license}: License identifier
\item \code{extent}: Spatial and temporal extents (both required)
\item \code{links}: Array of link objects (can be empty)
}
}

\subsection{Recommended Fields}{
\itemize{
\item \code{title}: Short, human-readable title
\item \code{keywords}: Keywords for discovery
\item \code{providers}: Information about data providers
\item \code{summaries}: Summaries of Item properties
}
}

\subsection{Extent Structure}{

The extent object must contain both \code{spatial} and \code{temporal} extents:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{extent = list(
  spatial = list(
    bbox = list(
      c(-180, -90, 180, 90)  # Overall spatial extent
    )
  ),
  temporal = list(
    interval = list(
      c("2020-01-01T00:00:00Z", "2020-12-31T23:59:59Z")
    )
  )
)
}\if{html}{\out{</div>}}
}

\subsection{License Values in STAC 1.1.0}{

The license field was updated in STAC 1.1.0:
\itemize{
\item Use SPDX identifiers when possible (e.g., "CC-BY-4.0", "MIT")
\item Use \code{"other"} for custom/proprietary licenses (replaces deprecated "proprietary")
\item Use \code{"various"} when the collection contains data with multiple licenses
\item When using \code{"other"} or \code{"various"}, add license link(s) in the links array
}
}

\subsection{Summaries}{

Summaries help users understand the range of values in the collection without
inspecting all Items. Three formats are supported:
\itemize{
\item Array of unique values: \code{list(platform = c("landsat-8", "landsat-9"))}
\item Range with min/max: \code{list(gsd = list(minimum = 15, maximum = 30))}
\item JSON Schema: For complex validation rules
}
}
}
\examples{
# Basic collection with minimal required fields
collection <- stac_collection(
  id = "landsat-8-c2-l2",
  description = "Landsat 8 Collection 2 Level-2 Surface Reflectance",
  license = "CC0-1.0",
  extent = list(
    spatial = list(bbox = list(c(-180, -90, 180, 90))),
    temporal = list(interval = list(c("2013-04-11T00:00:00Z", NULL)))
  )
)

# Collection with all recommended fields
collection <- stac_collection(
  id = "sentinel-2-l2a",
  title = "Sentinel-2 Level-2A",
  description = paste(
    "Sentinel-2 Level-2A provides Bottom-Of-Atmosphere (BOA) reflectance",
    "images derived from the associated Level-1C products."
  ),
  license = "proprietary",
  extent = stac_extent(
    spatial_bbox = list(c(-180, -90, 180, 90)),
    temporal_interval = list(c("2015-06-27T00:00:00Z", NULL))
  ),
  keywords = c("sentinel", "esa", "msi", "copernicus", "earth observation"),
  providers = list(
    stac_provider(
      name = "ESA",
      roles = c("producer", "licensor"),
      url = "https://earth.esa.int/web/guest/home"
    )
  ),
  summaries = list(
    platform = c("sentinel-2a", "sentinel-2b"),
    instruments = c("msi"),
    gsd = c(10, 20, 60),
    `eo:bands` = list(
      list(name = "B01", common_name = "coastal", center_wavelength = 0.443),
      list(name = "B02", common_name = "blue", center_wavelength = 0.490),
      list(name = "B03", common_name = "green", center_wavelength = 0.560)
    )
  )
)

# Add links
collection <- collection |>
  add_self_link("https://example.com/collections/sentinel-2-l2a.json") |>
  add_root_link("https://example.com/catalog.json") |>
  add_link(
    rel = "license",
    href = "https://sentinel.esa.int/documents/247904/690755/Sentinel_Data_Legal_Notice",
    type = "text/html",
    title = "Sentinel Data Terms and Conditions"
  )

# Collection with multiple licenses
multi_license_collection <- stac_collection(
  id = "mixed-sources",
  description = "Collection with data from multiple sources with different licenses",
  license = "various",
  extent = stac_extent(
    spatial_bbox = list(c(-120, 30, -110, 40)),
    temporal_interval = list(c("2020-01-01T00:00:00Z", "2023-12-31T23:59:59Z"))
  )
) |>
  add_link("license", "https://creativecommons.org/licenses/by/4.0/", 
           title = "CC-BY-4.0 for Landsat data") |>
  add_link("license", "https://example.com/custom-license.txt",
           title = "Custom license for commercial data")

# Convert to JSON
collection_json <- jsonlite::toJSON(collection, auto_unbox = TRUE, pretty = TRUE)
cat(collection_json)

}
\references{
STAC Collection Specification:
\url{https://github.com/radiantearth/stac-spec/blob/master/collection-spec/collection-spec.md}
}
\seealso{
\itemize{
\item \code{\link[=stac_catalog]{stac_catalog()}} for creating STAC Catalogs
\item \code{\link[=stac_item]{stac_item()}} for creating STAC Items
\item \code{\link[=stac_extent]{stac_extent()}} for creating extent objects
\item \code{\link[=stac_provider]{stac_provider()}} for creating provider objects
\item \code{\link[=stac_summaries]{stac_summaries()}} for creating summaries
\item \code{\link[=add_link]{add_link()}} for adding links to collections
}
}
